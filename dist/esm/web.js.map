{"version":3,"file":"web.js","sourceRoot":"","sources":["../../src/web.ts"],"names":[],"mappings":"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","sourcesContent":["import { WebPlugin } from '@capacitor/core';\r\n\r\nimport type {\r\n  VideoPlayerPlugin,\r\n  capVideoPlayerOptions,\r\n  capVideoPlayerIdOptions,\r\n  capVideoVolumeOptions,\r\n  capVideoTimeOptions,\r\n  capVideoMutedOptions,\r\n  capVideoRateOptions,\r\n  capVideoPlayerResult,\r\n} from './definitions';\r\nimport { VideoPlayer } from './web-utils/videoplayer';\r\n\r\nexport interface IPlayerSize {\r\n  height: number;\r\n  width: number;\r\n}\r\n\r\nexport class VideoPlayerWeb extends WebPlugin implements VideoPlayerPlugin {\r\n  private _players: any = [];\r\n  private videoContainer!: HTMLDivElement | null;\r\n  private mode!: string;\r\n\r\n  constructor() {\r\n    super();\r\n    this.addListeners();\r\n  }\r\n\r\n  /**\r\n   *  Player initialization\r\n   *\r\n   * @param options\r\n   */\r\n  async initPlayer(options: capVideoPlayerOptions): Promise<capVideoPlayerResult> {\r\n    if (options == null) {\r\n      return Promise.resolve({\r\n        result: false,\r\n        method: 'initPlayer',\r\n        message: 'Must provide a capVideoPlayerOptions object',\r\n      });\r\n    }\r\n\r\n    this.mode = options.mode ? options.mode : '';\r\n    if (this.mode == null || this.mode.length === 0) {\r\n      return Promise.resolve({\r\n        result: false,\r\n        method: 'initPlayer',\r\n        message: 'Must provide a Mode (fullscreen/embedded)',\r\n      });\r\n    }\r\n    if (this.mode === 'fullscreen' || this.mode === 'embedded') {\r\n      const url: string = options.url ? options.url : '';\r\n      if (url == null || url.length === 0) {\r\n        return Promise.resolve({\r\n          result: false,\r\n          method: 'initPlayer',\r\n          message: 'Must provide a Video Url',\r\n        });\r\n      }\r\n      if (url == 'internal') {\r\n        return Promise.resolve({\r\n          result: false,\r\n          method: 'initPlayer',\r\n          message: 'Internal Videos not supported on Web Platform',\r\n        });\r\n      }\r\n      const playerId: string = options.playerId ? options.playerId : '';\r\n      if (playerId == null || playerId.length === 0) {\r\n        return Promise.resolve({\r\n          result: false,\r\n          method: 'initPlayer',\r\n          message: 'Must provide a Player Id',\r\n        });\r\n      }\r\n      const rate: number = options.rate ? options.rate : 1.0;\r\n      let exitOnEnd = true;\r\n      if (Object.keys(options).includes('exitOnEnd')) {\r\n        const exitRet = options.exitOnEnd;\r\n        exitOnEnd = exitRet != null ? exitRet : true;\r\n      }\r\n      let loopOnEnd = false;\r\n      if (Object.keys(options).includes('loopOnEnd') && !exitOnEnd) {\r\n        const loopRet = options.loopOnEnd;\r\n        loopOnEnd = loopRet != null ? loopRet : false;\r\n      }\r\n      const componentTag: string = options.componentTag ? options.componentTag : '';\r\n      if (componentTag == null || componentTag.length === 0) {\r\n        return Promise.resolve({\r\n          result: false,\r\n          method: 'initPlayer',\r\n          message: 'Must provide a Component Tag',\r\n        });\r\n      }\r\n      let playerSize: IPlayerSize = null as any;\r\n      if (this.mode === 'embedded') {\r\n        playerSize = this.checkSize(options);\r\n      }\r\n      const result = await this._initializeVideoPlayer(\r\n        url,\r\n        playerId,\r\n        this.mode,\r\n        rate,\r\n        exitOnEnd,\r\n        loopOnEnd,\r\n        componentTag,\r\n        playerSize,\r\n      );\r\n      return Promise.resolve({ result: result });\r\n    } else {\r\n      return Promise.resolve({\r\n        result: false,\r\n        method: 'initPlayer',\r\n        message: 'Must provide a Mode either fullscreen or embedded)',\r\n      });\r\n    }\r\n  }\r\n  /**\r\n   * Return if a given playerId is playing\r\n   *\r\n   * @param options\r\n   */\r\n  async isPlaying(options: capVideoPlayerIdOptions): Promise<capVideoPlayerResult> {\r\n    if (options == null) {\r\n      return Promise.resolve({\r\n        result: false,\r\n        method: 'isPlaying',\r\n        message: 'Must provide a capVideoPlayerIdOptions object',\r\n      });\r\n    }\r\n    let playerId: string = options.playerId ? options.playerId : '';\r\n    if (playerId == null || playerId.length === 0) {\r\n      playerId = 'fullscreen';\r\n    }\r\n    if (this._players[playerId]) {\r\n      const playing: boolean = this._players[playerId].isPlaying;\r\n      return Promise.resolve({\r\n        method: 'isPlaying',\r\n        result: true,\r\n        value: playing,\r\n      });\r\n    } else {\r\n      return Promise.resolve({\r\n        method: 'isPlaying',\r\n        result: false,\r\n        message: 'Given PlayerId does not exist)',\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Play the current video from a given playerId\r\n   *\r\n   * @param options\r\n   */\r\n  async play(options: capVideoPlayerIdOptions): Promise<capVideoPlayerResult> {\r\n    if (options == null) {\r\n      return Promise.resolve({\r\n        result: false,\r\n        method: 'play',\r\n        message: 'Must provide a capVideoPlayerIdOptions object',\r\n      });\r\n    }\r\n    let playerId: string = options.playerId ? options.playerId : '';\r\n    if (playerId == null || playerId.length === 0) {\r\n      playerId = 'fullscreen';\r\n    }\r\n    if (this._players[playerId]) {\r\n      await this._players[playerId].videoEl.play();\r\n      return Promise.resolve({ method: 'play', result: true, value: true });\r\n    } else {\r\n      return Promise.resolve({\r\n        method: 'play',\r\n        result: false,\r\n        message: 'Given PlayerId does not exist)',\r\n      });\r\n    }\r\n  }\r\n  /**\r\n   * Pause the current video from a given playerId\r\n   *\r\n   * @param options\r\n   */\r\n  async pause(options: capVideoPlayerIdOptions): Promise<capVideoPlayerResult> {\r\n    if (options == null) {\r\n      return Promise.resolve({\r\n        result: false,\r\n        method: 'pause',\r\n        message: 'Must provide a capVideoPlayerIdOptions object',\r\n      });\r\n    }\r\n    let playerId: string = options.playerId ? options.playerId : '';\r\n    if (playerId == null || playerId.length === 0) {\r\n      playerId = 'fullscreen';\r\n    }\r\n    if (this._players[playerId]) {\r\n      if (this._players[playerId].isPlaying) await this._players[playerId].videoEl.pause();\r\n      return Promise.resolve({ method: 'pause', result: true, value: true });\r\n    } else {\r\n      return Promise.resolve({\r\n        method: 'pause',\r\n        result: false,\r\n        message: 'Given PlayerId does not exist)',\r\n      });\r\n    }\r\n  }\r\n  /**\r\n   * Get the duration of the current video from a given playerId\r\n   *\r\n   * @param options\r\n   */\r\n  async getDuration(options: capVideoPlayerIdOptions): Promise<capVideoPlayerResult> {\r\n    if (options == null) {\r\n      return Promise.resolve({\r\n        result: false,\r\n        method: 'getDuration',\r\n        message: 'Must provide a capVideoPlayerIdOptions object',\r\n      });\r\n    }\r\n    let playerId: string = options.playerId ? options.playerId : '';\r\n    if (playerId == null || playerId.length === 0) {\r\n      playerId = 'fullscreen';\r\n    }\r\n    if (this._players[playerId]) {\r\n      const duration: number = this._players[playerId].videoEl.duration;\r\n      return Promise.resolve({\r\n        method: 'getDuration',\r\n        result: true,\r\n        value: duration,\r\n      });\r\n    } else {\r\n      return Promise.resolve({\r\n        method: 'getDuration',\r\n        result: false,\r\n        message: 'Given PlayerId does not exist)',\r\n      });\r\n    }\r\n  }\r\n  /**\r\n   * Set the rate of the current video from a given playerId\r\n   *\r\n   * @param options\r\n   */\r\n  async setRate(options: capVideoRateOptions): Promise<capVideoPlayerResult> {\r\n    if (options == null) {\r\n      return Promise.resolve({\r\n        result: false,\r\n        method: 'setRate',\r\n        message: 'Must provide a capVideoRateOptions object',\r\n      });\r\n    }\r\n    let playerId: string = options.playerId ? options.playerId : '';\r\n    if (playerId == null || playerId.length === 0) {\r\n      playerId = 'fullscreen';\r\n    }\r\n    const rateList: number[] = [0.25, 0.5, 0.75, 1.0, 2.0, 4.0];\r\n    const rate: number = options.rate && rateList.includes(options.rate) ? options.rate : 1.0;\r\n    if (this._players[playerId]) {\r\n      this._players[playerId].videoEl.playbackRate = rate;\r\n      return Promise.resolve({\r\n        method: 'setRate',\r\n        result: true,\r\n        value: rate,\r\n      });\r\n    } else {\r\n      return Promise.resolve({\r\n        method: 'setRate',\r\n        result: false,\r\n        message: 'Given PlayerId does not exist)',\r\n      });\r\n    }\r\n  }\r\n  /**\r\n   * Get the volume of the current video from a given playerId\r\n   *\r\n   * @param options\r\n   */\r\n  async getRate(options: capVideoPlayerIdOptions): Promise<capVideoPlayerResult> {\r\n    if (options == null) {\r\n      return Promise.resolve({\r\n        result: false,\r\n        method: 'getRate',\r\n        message: 'Must provide a capVideoPlayerIdOptions object',\r\n      });\r\n    }\r\n    let playerId: string = options.playerId ? options.playerId : '';\r\n    if (playerId == null || playerId.length === 0) {\r\n      playerId = 'fullscreen';\r\n    }\r\n    if (this._players[playerId]) {\r\n      const rate: number = this._players[playerId].videoEl.playbackRate;\r\n      return Promise.resolve({\r\n        method: 'getRate',\r\n        result: true,\r\n        value: rate,\r\n      });\r\n    } else {\r\n      return Promise.resolve({\r\n        method: 'getRate',\r\n        result: false,\r\n        message: 'Given PlayerId does not exist)',\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Set the volume of the current video from a given playerId\r\n   *\r\n   * @param options\r\n   */\r\n  async setVolume(options: capVideoVolumeOptions): Promise<capVideoPlayerResult> {\r\n    if (options == null) {\r\n      return Promise.resolve({\r\n        result: false,\r\n        method: 'setVolume',\r\n        message: 'Must provide a capVideoVolumeOptions object',\r\n      });\r\n    }\r\n    let playerId: string = options.playerId ? options.playerId : '';\r\n    if (playerId == null || playerId.length === 0) {\r\n      playerId = 'fullscreen';\r\n    }\r\n    const volume: number = options.volume ? options.volume : 0.5;\r\n    if (this._players[playerId]) {\r\n      this._players[playerId].videoEl.volume = volume;\r\n      return Promise.resolve({\r\n        method: 'setVolume',\r\n        result: true,\r\n        value: volume,\r\n      });\r\n    } else {\r\n      return Promise.resolve({\r\n        method: 'setVolume',\r\n        result: false,\r\n        message: 'Given PlayerId does not exist)',\r\n      });\r\n    }\r\n  }\r\n  /**\r\n   * Get the volume of the current video from a given playerId\r\n   *\r\n   * @param options\r\n   */\r\n  async getVolume(options: capVideoPlayerIdOptions): Promise<capVideoPlayerResult> {\r\n    if (options == null) {\r\n      return Promise.resolve({\r\n        result: false,\r\n        method: 'getVolume',\r\n        message: 'Must provide a capVideoPlayerIdOptions object',\r\n      });\r\n    }\r\n    let playerId: string = options.playerId ? options.playerId : '';\r\n    if (playerId == null || playerId.length === 0) {\r\n      playerId = 'fullscreen';\r\n    }\r\n    if (this._players[playerId]) {\r\n      const volume: number = this._players[playerId].videoEl.volume;\r\n      return Promise.resolve({\r\n        method: 'getVolume',\r\n        result: true,\r\n        value: volume,\r\n      });\r\n    } else {\r\n      return Promise.resolve({\r\n        method: 'getVolume',\r\n        result: false,\r\n        message: 'Given PlayerId does not exist)',\r\n      });\r\n    }\r\n  }\r\n  /**\r\n   * Set the muted property of the current video from a given playerId\r\n   *\r\n   * @param options\r\n   */\r\n  async setMuted(options: capVideoMutedOptions): Promise<capVideoPlayerResult> {\r\n    if (options == null) {\r\n      return Promise.resolve({\r\n        result: false,\r\n        method: 'setMuted',\r\n        message: 'Must provide a capVideoMutedOptions object',\r\n      });\r\n    }\r\n    let playerId: string = options.playerId ? options.playerId : '';\r\n    if (playerId == null || playerId.length === 0) {\r\n      playerId = 'fullscreen';\r\n    }\r\n    const muted: boolean = options.muted ? options.muted : false;\r\n    if (this._players[playerId]) {\r\n      this._players[playerId].videoEl.muted = muted;\r\n      return Promise.resolve({\r\n        method: 'setMuted',\r\n        result: true,\r\n        value: muted,\r\n      });\r\n    } else {\r\n      return Promise.resolve({\r\n        method: 'setMuted',\r\n        result: false,\r\n        message: 'Given PlayerId does not exist)',\r\n      });\r\n    }\r\n  }\r\n  /**\r\n   * Get the muted property of the current video from a given playerId\r\n   *\r\n   * @param options\r\n   */\r\n  async getMuted(options: capVideoPlayerIdOptions): Promise<capVideoPlayerResult> {\r\n    if (options == null) {\r\n      return Promise.resolve({\r\n        result: false,\r\n        method: 'getMuted',\r\n        message: 'Must provide a capVideoPlayerIdOptions object',\r\n      });\r\n    }\r\n    let playerId: string = options.playerId ? options.playerId : '';\r\n    if (playerId == null || playerId.length === 0) {\r\n      playerId = 'fullscreen';\r\n    }\r\n    if (this._players[playerId]) {\r\n      const muted: boolean = this._players[playerId].videoEl.muted;\r\n      return Promise.resolve({\r\n        method: 'getMuted',\r\n        result: true,\r\n        value: muted,\r\n      });\r\n    } else {\r\n      return Promise.resolve({\r\n        method: 'getMuted',\r\n        result: false,\r\n        message: 'Given PlayerId does not exist)',\r\n      });\r\n    }\r\n  }\r\n  /**\r\n   * Set the current time of the current video from a given playerId\r\n   *\r\n   * @param options\r\n   */\r\n  async setCurrentTime(options: capVideoTimeOptions): Promise<capVideoPlayerResult> {\r\n    if (options == null) {\r\n      return Promise.resolve({\r\n        result: false,\r\n        method: 'setCurrentTime',\r\n        message: 'Must provide a capVideoTimeOptions object',\r\n      });\r\n    }\r\n    let playerId: string = options.playerId ? options.playerId : '';\r\n    if (playerId == null || playerId.length === 0) {\r\n      playerId = 'fullscreen';\r\n    }\r\n    let seekTime: number = options.seektime ? options.seektime : 0;\r\n    if (this._players[playerId]) {\r\n      const duration: number = this._players[playerId].videoEl.duration;\r\n      seekTime = seekTime <= duration && seekTime >= 0 ? seekTime : duration / 2;\r\n      this._players[playerId].videoEl.currentTime = seekTime;\r\n      return Promise.resolve({\r\n        method: 'setCurrentTime',\r\n        result: true,\r\n        value: seekTime,\r\n      });\r\n    } else {\r\n      return Promise.resolve({\r\n        method: 'setCurrentTime',\r\n        result: false,\r\n        message: 'Given PlayerId does not exist)',\r\n      });\r\n    }\r\n  }\r\n  /**\r\n   * Get the current time of the current video from a given playerId\r\n   *\r\n   * @param options\r\n   */\r\n  async getCurrentTime(options: capVideoPlayerIdOptions): Promise<capVideoPlayerResult> {\r\n    if (options == null) {\r\n      return Promise.resolve({\r\n        result: false,\r\n        method: 'getCurrentTime',\r\n        message: 'Must provide a capVideoPlayerIdOptions object',\r\n      });\r\n    }\r\n    let playerId: string = options.playerId ? options.playerId : '';\r\n    if (playerId == null || playerId.length === 0) {\r\n      playerId = 'fullscreen';\r\n    }\r\n    if (this._players[playerId]) {\r\n      const seekTime: number = this._players[playerId].videoEl.currentTime;\r\n      return Promise.resolve({\r\n        method: 'getCurrentTime',\r\n        result: true,\r\n        value: seekTime,\r\n      });\r\n    } else {\r\n      return Promise.resolve({\r\n        method: 'getCurrentTime',\r\n        result: false,\r\n        message: 'Given PlayerId does not exist)',\r\n      });\r\n    }\r\n  }\r\n  /**\r\n   * Get the current time of the current video from a given playerId\r\n   *\r\n   */\r\n  async stopAllPlayers(): Promise<capVideoPlayerResult> {\r\n    for (const i in this._players) {\r\n      if (this._players[i].pipMode) {\r\n        const doc: any = document;\r\n        if (doc.pictureInPictureElement) {\r\n          await doc.exitPictureInPicture();\r\n        }\r\n      }\r\n      if (!this._players[i].videoEl.paused) this._players[i].videoEl.pause();\r\n    }\r\n    return Promise.resolve({\r\n      method: 'stopAllPlayers',\r\n      result: true,\r\n      value: true,\r\n    });\r\n  }\r\n  /**\r\n   * Show controller\r\n   *\r\n   */\r\n  async showController(): Promise<capVideoPlayerResult> {\r\n    return Promise.resolve({\r\n      method: 'showController',\r\n      result: true,\r\n      value: true,\r\n    });\r\n  }\r\n  /**\r\n   * isControllerIsFullyVisible\r\n   *\r\n   */\r\n  async isControllerIsFullyVisible(): Promise<capVideoPlayerResult> {\r\n    return Promise.resolve({\r\n      method: 'isControllerIsFullyVisible',\r\n      result: true,\r\n      value: true,\r\n    });\r\n  }\r\n  /**\r\n   * Exit the current player\r\n   *\r\n   */\r\n  async exitPlayer(): Promise<capVideoPlayerResult> {\r\n    return Promise.resolve({\r\n      method: 'exitPlayer',\r\n      result: true,\r\n      value: true,\r\n    });\r\n  }\r\n  private checkSize(options: capVideoPlayerOptions): IPlayerSize {\r\n    const playerSize: IPlayerSize = {\r\n      width: options.width ? options.width : 320,\r\n      height: options.height ? options.height : 180,\r\n    };\r\n    const ratio: number = playerSize.height / playerSize.width;\r\n    if (playerSize.width > window.innerWidth) {\r\n      playerSize.width = window.innerWidth;\r\n      playerSize.height = Math.floor(playerSize.width * ratio);\r\n    }\r\n    if (playerSize.height > window.innerHeight) {\r\n      playerSize.height = window.innerHeight;\r\n      playerSize.width = Math.floor(playerSize.height / ratio);\r\n    }\r\n    return playerSize;\r\n  }\r\n  private async _initializeVideoPlayer(\r\n    url: string,\r\n    playerId: string,\r\n    mode: string,\r\n    rate: number,\r\n    exitOnEnd: boolean,\r\n    loopOnEnd: boolean,\r\n    componentTag: string,\r\n    playerSize: IPlayerSize,\r\n  ): Promise<any> {\r\n    const videoURL: string = url ? (url.indexOf('%2F') == -1 ? encodeURI(url) : url) : (null as any);\r\n    if (videoURL === null) return Promise.resolve(false);\r\n    this.videoContainer = await this._getContainerElement(playerId, componentTag);\r\n    if (this.videoContainer === null)\r\n      return Promise.resolve({\r\n        method: 'initPlayer',\r\n        result: false,\r\n        message: 'componentTag or divContainerElement must be provided',\r\n      });\r\n    if (mode === 'embedded' && playerSize == null)\r\n      return Promise.resolve({\r\n        method: 'initPlayer',\r\n        result: false,\r\n        message: 'playerSize must be defined in embedded mode',\r\n      });\r\n\r\n    if (mode === 'embedded') {\r\n      this._players[playerId] = new VideoPlayer(\r\n        'embedded',\r\n        videoURL,\r\n        playerId,\r\n        rate,\r\n        exitOnEnd,\r\n        loopOnEnd,\r\n        this.videoContainer,\r\n        2,\r\n        playerSize.width,\r\n        playerSize.height,\r\n      );\r\n      await this._players[playerId].initialize();\r\n    } else if (mode === 'fullscreen') {\r\n      this._players['fullscreen'] = new VideoPlayer(\r\n        'fullscreen',\r\n        videoURL,\r\n        'fullscreen',\r\n        rate,\r\n        exitOnEnd,\r\n        loopOnEnd,\r\n        this.videoContainer,\r\n        99995,\r\n      );\r\n      await this._players['fullscreen'].initialize();\r\n    } else {\r\n      return Promise.resolve({\r\n        method: 'initPlayer',\r\n        result: false,\r\n        message: 'mode not supported',\r\n      });\r\n    }\r\n    return Promise.resolve({ method: 'initPlayer', result: true, value: true });\r\n  }\r\n  private async _getContainerElement(playerId: string, componentTag: string): Promise<HTMLDivElement | null> {\r\n    const videoContainer: HTMLDivElement = document.createElement('div');\r\n    videoContainer.id = `vc_${playerId}`;\r\n    if (componentTag != null && componentTag.length > 0) {\r\n      const cmpTagEl: HTMLElement | null = document.querySelector(`${componentTag}`);\r\n      if (cmpTagEl === null) return Promise.resolve(null);\r\n      let container: HTMLDivElement | null = null;\r\n      const shadowRoot = cmpTagEl.shadowRoot ? cmpTagEl.shadowRoot : null;\r\n      if (shadowRoot != null) {\r\n        container = shadowRoot.querySelector(`[id='${playerId}']`);\r\n      } else {\r\n        container = cmpTagEl.querySelector(`[id='${playerId}']`);\r\n      }\r\n      if (container != null) container.appendChild(videoContainer);\r\n      return Promise.resolve(videoContainer);\r\n    } else {\r\n      return Promise.resolve(null);\r\n    }\r\n  }\r\n  private handlePlayerPlay(data: any) {\r\n    this.notifyListeners('jeepCapVideoPlayerPlay', data);\r\n  }\r\n  private handlePlayerPause(data: any) {\r\n    this.notifyListeners('jeepCapVideoPlayerPause', data);\r\n  }\r\n  private handlePlayerEnded(data: any) {\r\n    if (this.mode === 'fullscreen') {\r\n      this.videoContainer?.remove();\r\n    }\r\n    this.removeListeners();\r\n    this.notifyListeners('jeepCapVideoPlayerEnded', data);\r\n  }\r\n  private handlePlayerExit() {\r\n    if (this.mode === 'fullscreen') {\r\n      this.videoContainer?.remove();\r\n    }\r\n    const retData: any = { dismiss: true };\r\n    this.removeListeners();\r\n    this.notifyListeners('jeepCapVideoPlayerExit', retData);\r\n  }\r\n  private handlePlayerReady(data: any) {\r\n    this.notifyListeners('jeepCapVideoPlayerReady', data);\r\n  }\r\n\r\n  private addListeners() {\r\n    document.addEventListener(\r\n      'videoPlayerPlay',\r\n      (ev: any) => {\r\n        this.handlePlayerPlay(ev.detail);\r\n      },\r\n      false,\r\n    );\r\n    document.addEventListener(\r\n      'videoPlayerPause',\r\n      (ev: any) => {\r\n        this.handlePlayerPause(ev.detail);\r\n      },\r\n      false,\r\n    );\r\n    document.addEventListener(\r\n      'videoPlayerEnded',\r\n      (ev: any) => {\r\n        this.handlePlayerEnded(ev.detail);\r\n      },\r\n      false,\r\n    );\r\n    document.addEventListener(\r\n      'videoPlayerReady',\r\n      (ev: any) => {\r\n        this.handlePlayerReady(ev.detail);\r\n      },\r\n      false,\r\n    );\r\n    document.addEventListener(\r\n      'videoPlayerExit',\r\n      () => {\r\n        this.handlePlayerExit();\r\n      },\r\n      false,\r\n    );\r\n  }\r\n\r\n  private removeListeners() {\r\n    document.removeEventListener(\r\n      'videoPlayerPlay',\r\n      (ev: any) => {\r\n        this.handlePlayerPlay(ev.detail);\r\n      },\r\n      false,\r\n    );\r\n    document.removeEventListener(\r\n      'videoPlayerPause',\r\n      (ev: any) => {\r\n        this.handlePlayerPause(ev.detail);\r\n      },\r\n      false,\r\n    );\r\n    document.removeEventListener(\r\n      'videoPlayerEnded',\r\n      (ev: any) => {\r\n        this.handlePlayerEnded(ev.detail);\r\n      },\r\n      false,\r\n    );\r\n    document.removeEventListener(\r\n      'videoPlayerReady',\r\n      (ev: any) => {\r\n        this.handlePlayerReady(ev.detail);\r\n      },\r\n      false,\r\n    );\r\n    document.removeEventListener(\r\n      'videoPlayerExit',\r\n      () => {\r\n        this.handlePlayerExit();\r\n      },\r\n      false,\r\n    );\r\n  }\r\n\r\n  async getPluginVersion(): Promise<{ version: string }> {\r\n    return { version: 'web' };\r\n  }\r\n}\r\n"]}